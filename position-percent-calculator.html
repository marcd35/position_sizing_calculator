<!doctype html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-J3DPW9XEWL"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-J3DPW9XEWL');
    </script>
    <meta property="og:title" content="Position Sizing Calculator: Position %" />
    <meta
      property="og:description"
      content="Calculate your position sizing with ease using our free Position Sizing Calculator. Optimize your trades and manage risks effectively!"
    />
    <meta property="og:image" content="public/media/rswingtrading_icon.jpg" />
    <meta property="og:url" content="" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="en_US" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="public/media/rswingtrading_icon.jpg" />
    <!-- Local -->
    <title>Position Sizing Calculator: Position %</title>
    <link rel="stylesheet" type="text/css" href="src/css/variables.css" />
    <link rel="stylesheet" type="text/css" href="src/css/shared.css" />
    <link rel="stylesheet" type="text/css" href="src/css/position-percent-specific.css" />
    <!-- Utilities -->
    <script src="src/constants.js" defer></script>
    <script src="src/utils/validators.js" defer></script>
    <script src="src/utils/calculators.js" defer></script>
    <script src="src/utils/formatters.js" defer></script>
    <script src="src/utils/dom-helpers.js" defer></script>
    <script src="src/utils/sanitization.js" defer></script>
    <script src="src/utils/clipboard.js" defer></script>
    <script src="src/utils/notifications.js" defer></script>
    <script src="src/js/layout.js" defer></script>
    <!-- Page Script -->
    <script src="src/js/position-percent-calculator.js" defer></script>
  </head>

  <body>
    <!-- Screen reader live region -->
    <div
      id="aria-live"
      aria-live="polite"
      style="
        position: absolute;
        left: -10000px;
        top: auto;
        width: 1px;
        height: 1px;
        overflow: hidden;
      "
    >
      Results will be announced here.
    </div>
    <!-- Main Container -->
    <div class="container">
      <div class="calculator-intro">
        <h1 class="title">Method 3: Position Percentage</h1>
        <div>
          Usage: Max Shares will be calculated based upon the percentage amount you are willing to
          allocate toward the trade, based on your account size or other value of your choosing.
          <a href="calculatorinstructions.html#method-position-percent">More Info</a>
        </div>
      </div>

      <div class="calculator-grid">
        <section class="calculator-inputs" aria-label="Inputs">
          <div class="input-container">
            <div class="form-group">
              <label for="accountValue"
                >Account Value / Allocation Amount
                <span class="info-icon"
                  >ⓘ
                  <span class="info-tooltip"
                    >The total amount of capital you have in your trading account or amount you are
                    willing to commit to the trade.</span
                  >
                </span>
              </label>
              <input
                type="number"
                id="accountValue"
                min="0"
                step="1"
                value="10000"
                placeholder="e.g., 10000"
                required
              />
            </div>

            <div class="form-group">
              <label for="riskPercentage">Position Risk %</label>
              <div class="slider-input-container">
                <input
                  type="number"
                  id="riskPercentage"
                  name="riskPercentage"
                  step="1"
                  min="0"
                  max="100"
                  value="1"
                  placeholder="0–100"
                  style="flex: 1"
                />
                <input
                  type="range"
                  id="riskPercentageSlider"
                  min="0"
                  max="100"
                  step="1"
                  value="1"
                  style="flex: 1"
                />
              </div>
            </div>

            <div class="preset-buttons">
              <button type="button" data-value="5">5%</button>
              <button type="button" data-value="10">10%</button>
              <button type="button" data-value="20">20%</button>
              <button type="button" data-value="25">25%</button>
              <button type="button" data-value="50">50%</button>
              <button type="button" data-value="75">75%</button>
              <button type="button" data-value="100">100%</button>
            </div>

            <p></p>

            <div class="form-group" style="display: flex; gap: 15px; margin-bottom: 20px;">
              <div style="flex: 1">
                <label for="entryPrice"
                  >Entry Price
                  <span class="info-icon"
                    >ⓘ
                    <span class="info-tooltip"
                      >The price at which you plan to enter the trade.</span
                    >
                  </span>
                </label>
                <input
                  type="number"
                  id="entryPrice"
                  min="0"
                  step="0.01"
                  value="100"
                  placeholder="e.g., 100.50"
                  required
                />
              </div>

              <div style="padding: 28px 0;">
                <span id="position-indicator" data-position="long">↑</span>
              </div>

              <div style="flex: 1">
                <label for="stopLoss"
                  >Stop Loss
                  <span class="info-icon"
                    >ⓘ
                    <span class="info-tooltip"
                      >The price at which you plan to exit the trade if it goes against you.</span
                    >
                  </span>
                </label>
                <input
                  type="number"
                  id="stopLoss"
                  min="0"
                  step="0.01"
                  value="90"
                  placeholder="e.g., 95.00"
                  required
                />
              </div>
            </div>

            <details class="calculator-details">
              <summary>Advanced (optional)</summary>
              <div class="calculator-details__content">
                <div class="form-group">
                  <label for="tickerSymbol"
                    >Ticker Symbol (optional)
                    <span class="info-icon"
                      >ⓘ
                      <span class="info-tooltip"
                        >This field is for your own reference and does not affect
                        calculations.</span
                      >
                    </span>
                  </label>
                  <input type="text" id="tickerSymbol" placeholder="e.g., AAPL" />
                </div>
              </div>
            </details>

            <!-- Submit and Clear Buttons -->
            <div class="button-group button-group--split">
              <button id="submitButton" class="btn btn--primary">Submit</button>
              <button id="clearButton" class="btn btn--danger">Clear</button>
            </div>
          </div>
        </section>

        <section class="calculator-results" aria-label="Results">
          <!-- Results Section -->
          <section id="result" class="results-section">
            <h2>Results</h2>
            <div class="results-grid">
              <!-- Header Row removed per user request -->
              <!-- Position Size Row -->
              <div class="result-row">
                <span class="metric">Position Size</span>
                <span class="value" id="position-size">-</span>
              </div>
              <!-- Risk per Share Row -->
              <div class="result-row">
                <span class="metric">Risk per Share</span>
                <span class="value" id="risk-per-share">-</span>
              </div>
              <!-- Dollars Risked Row -->
              <div class="result-row">
                <span class="metric">Dollars Risked</span>
                <span class="value" id="dollars-risked">-</span>
              </div>
              <!-- Trade Risk Row -->
              <div class="result-row">
                <span class="metric">Trade Risk</span>
                <span class="value" id="percent-risked">-</span>
              </div>
              <!-- Max Shares Row -->
              <div class="result-row">
                <span class="metric" style="font-weight: 700; font-size: 1.15em;">Max Shares Allowed</span>
                <span class="value copyable" id="max-shares">-</span>
              </div>
            </div>
          </section>
        </section>
      </div>

      <!-- History -->
      <details id="history-details" class="calculator-details">
        <summary>History</summary>
        <div class="calculator-details__content">
          <div id="results-container"></div>
        </div>
      </details>
    </div>

    <!-- Shared footer inserted by layout.js -->
  </body>
</html>
